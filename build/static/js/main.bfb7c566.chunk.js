(this.webpackJsonptodoodleoo=this.webpackJsonptodoodleoo||[]).push([[0],{75:function(e,t,s){},81:function(e,t,s){},82:function(e,t,s){},83:function(e,t,s){},84:function(e,t,s){},85:function(e,t,s){},87:function(e,t,s){},88:function(e,t,s){},89:function(e,t,s){},91:function(e,t,s){},93:function(e,t,s){"use strict";s.r(t);var a,n=s(1),r=s.n(n),c=s(21),o=s.n(c),i=s(27),l=s(10),d=s(9),u=s(4),p=s(5),j=s(6),m=s(7),h=s(8),b=s.n(h),f=s(32),x=s.n(f),O=s(0),v=function(){var e=Object(d.a)(b.a.mark((function e(t,s){var a,n,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={"Content-Type":"application/json"},n=x.a.create({withCredentials:!0,headers:a}),e.prev=2,!s){e.next=10;break}return e.next=6,n.get(t+"?"+s);case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.next=12,n.get(""+t);case 12:return c=e.sent,e.abrupt("return",c);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t,s){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(b.a.mark((function e(t,s){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json"},n=x.a.create({withCredentials:!0,headers:a}),e.prev=2,e.next=5,n.post(""+t,s);case 5:return r=e.sent,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,s){return e.apply(this,arguments)}}(),k=(r.a.Component,r.a.Component,s(75),function(e){return Object(O.jsx)("div",{className:"card project-card mt-2 mb-3",children:Object(O.jsx)(i.b,{className:"card-link",to:{pathname:"/board",query:{projectId:e.project.project_id}},children:e.project.project_title})})}),T=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(){return Object(u.a)(this,s),t.apply(this,arguments)}return Object(p.a)(s,[{key:"render",value:function(){return Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col-10 text-center mx-auto mt-5 border-secondary",children:[Object(O.jsx)("h3",{children:" Your Boards "}),Object(O.jsx)("div",{className:"container mt-4",children:this.props.boards.map((function(e){return Object(O.jsx)(k,{project:e},e.project_id)}))})]})})}}]),s}(r.a.Component),N=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={title:""},e.handleSubmit=function(t){t.preventDefault();var s={title:e.state.title};g("/add_project",s).then((function(t){e.props.addProject(t.data.projects),e.setState({title:""})}),(function(e){console.log(e)}))},e}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-6 mx-auto mt-3",children:Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{className:"form-control form-control-lg m-2",type:"text",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})},placeholder:"Enter New Project Name",required:!0})}),Object(O.jsx)("div",{className:"col text-center",children:Object(O.jsx)("button",{className:"btn btn-primary mx-auto mb-4 mt-1",children:"Add Project"})})]})})})}}]),s}(r.a.Component),y=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={projects:[],dataReceived:!1},e.addProject=function(t){e.setState((function(e){return{projects:t}}))},e.getProjects=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v("/get_projects").then((function(t){var s=t.data.projects;e.setState({projects:s}),e.setState({dataReceived:!0})}),(function(e){console.log(e)}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),e}return Object(p.a)(s,[{key:"componentDidMount",value:function(){this.getProjects()}},{key:"render",value:function(){return!1===this.state.dataReceived?Object(O.jsx)("div",{children:"loading"}):Object(O.jsxs)("div",{className:"projects-list",children:[Object(O.jsx)(T,{boards:this.state.projects}),Object(O.jsx)(N,{addProject:this.addProject})]})}}]),s}(r.a.Component),w=y,S=(s(81),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var a;return Object(u.a)(this,s),(a=t.call(this,e)).logout=Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/logout").then((function(e){window.location.href="/login"}),(function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),a.getUserData=Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("/me").then((function(e){-1!==e.data.user_id?(a.setState({isLoggedIn:!0}),a.setState({dataReceived:!0}),a.setState({username:e.data.username}),console.log("logged in user =",e.data.username)):console.log("logged out user")}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),a.state={isLoggedIn:!1,username:!1},a}return Object(p.a)(s,[{key:"componentDidMount",value:function(){this.getUserData()}},{key:"render",value:function(){var e;return e=this.state.isLoggedIn?Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"username",children:this.state.username}),Object(O.jsx)("div",{className:"btn btn-light",onClick:this.logout,children:"Logout"})]}):Object(O.jsxs)("div",{className:"auth-buttons",children:[Object(O.jsx)("div",{className:"btn btn-primary",onClick:function(){return window.location.href="/login"},children:"Login"}),Object(O.jsx)("div",{className:"btn btn-primary",onClick:function(){return window.location.href="/register"},children:"Sign Up"})]}),Object(O.jsx)("div",{className:"header text-center",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-3",children:Object(O.jsx)("div",{className:"logo",onClick:function(){return window.location.href="/"},children:"Todoodleoo"})}),Object(O.jsx)("div",{className:"col-6"}),Object(O.jsx)("div",{className:"col-3",children:e})]})})}}]),s}(r.a.Component)),C=(s(82),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:""},e.loginFailed=function(){document.getElementById("error").innerHTML="Login failed, incorrect username or password"},e.handleSubmit=function(){var t=Object(d.a)(b.a.mark((function t(s){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),a={username:e.state.username,password:e.state.password},t.prev=2,t.next=5,g("/login",a).then((function(t){"Incorrect username/password combo"===t.data?e.loginFailed():window.location="/"}),(function(e){console.log(e)}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.log("error:",t.t0);case 10:e.setState({username:"",password:""});case 11:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{className:"login-page",children:Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col-8 mx-auto",children:[Object(O.jsx)("h2",{className:"container",children:"Log In"}),Object(O.jsx)("div",{id:"error"}),Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{type:"text",className:"form-control form-control-lg m-2",placeholder:"Username",onChange:function(t){return e.setState({username:t.target.value})},value:this.state.username})}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"password",className:"form-control form-control-lg m-2",placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})},value:this.state.password})}),Object(O.jsx)("div",{className:"col text-center",children:Object(O.jsx)("button",{className:"btn btn-primary mx-auto mb-4",children:"Log in"})})]})]})})})}}]),s}(r.a.Component)),I=C,A=(s(83),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:""},e.signUp=function(t){t.preventDefault();var s={username:e.state.username,password:e.state.password};g("/register",s).then((function(e){console.log(e.data)}),(function(e){console.log(e)})),e.setState({username:"",password:""})},e}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"row register-page",children:Object(O.jsxs)("div",{className:"col-8 mx-auto",children:[Object(O.jsx)("h2",{className:"container",children:"Sign Up"}),Object(O.jsxs)("form",{onSubmit:this.signUp,children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("input",{className:"form-control form-control-lg m-2",type:"text",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})},placeholder:"Username",required:!0}),Object(O.jsx)("input",{className:"form-control form-control-lg m-2",type:"password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})},placeholder:"Password",required:!0})]}),Object(O.jsx)("div",{className:"col text-center",children:Object(O.jsx)("button",{className:"btn btn-primary mx-auto mb-4",children:"Sign Up"})})]})]})})})}}]),s}(r.a.Component)),_=A,D=s(11),P=s(3),F=(s(92),s(84),s(45)),M=s(46),B=s.p+"static/media/delete_icon.508942d0.png",U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIsAAACLCAMAAABmx5rNAAAASFBMVEX///8AAACSkpLz8/Pw8PBNTU1iYmKioqKbm5tVVVX5+fmfn5+VlZVYWFj29vZKSkpdXV1xcXFDQ0M7OzusrKze3t4vLy/GxsZ7jQ02AAACWklEQVR4nO2Y2XaDMAxE67CkZIEk3f7/TxvqQyFjFtnImIe5z7bOHGksCd7eCCGEEEIIIYQQQgghhBBCElPf86jx83smPVpfTXmKKOVUmqtQTPYwxjR1NCl18Yz/EInJGtNSxipTVv7FbwRingWyVJG0VF38xczXH6ajipGZrPqP/7GQmcHRZ5nEbhdTl4P41Wz8vDBDGvXX9Bq/mMv8p3nlplumvIT4n3OnDyhGVcsNoh/mjx/heKHnmbqA2MelG5gZtT6TYYEWstLyjplR0oJZeZdcQjEqfSa/hkgZKdP6p30KKJDFMfBaMSdv2/Y4T3tdmZy+Is5KywUuX1dpQa9c/K4r9pkMC3T2jeAYOFRMSF9BzhCiCdQS1FcQ7DNBBs5xBnl6pQMNfPN/2uF9BUEDey/kzjj0tm0PZsZzUK7rK4gzm7xuV3A70Csd+Jo8BmWOUlYUyOL0GalnatUCWUIHpaJte5ynLSmTVl9ZFCO447lmy3H6zNJsWj8Op/EclBrjcBq/hRwfc9A4lIuZ6TOha7Yc8UKuNw6ncQw8LsZZsxVt2yMalLrjUC5mbFCiVyJJESzkmfo4nGahz8TtK8j8Qr6JbXtmFnJnHKr3FcT5vP1/2tHG4TSOge1y5f/XSYPRP1db9RVkbCGPPA6ncRbyL2xxkV/QECzTd5oCWdDAybLSgrMpWVbmxWwuZbpMGxfIggZOlpUW7DMtm/WVZTHJpLhlSlQgy6uBk9i257KXrLyKUfqTsIbjPgpkOeyjQJbzXrLSctmDVzp+UgsghBBCCCGEEELIDvgFq58Px5+/ToEAAAAASUVORK5CYII=",E=s.p+"static/media/plus_icon.94deca07.png",L=s(18),R=s(19),V=function(e){e.onSubmit;var t=e.projectId,s=e.updateTimeboxes,a=Object(n.useState)(""),r=Object(R.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(""),l=Object(R.a)(i,2),d=l[0],u=l[1],p=Object(n.useState)(""),j=Object(R.a)(p,2),m=j[0],h=j[1],b=Object(n.useState)(""),f=Object(R.a)(b,2),x=f[0],v=f[1],k=[u,h,v],T=[d,m,x];return Object(O.jsxs)(Z,{onSubmit:function(e){e.preventDefault(),g("/add_timebox",{project_id:t,title:c,goals:[d,m,x]}).then((function(e){s(e.data),o(""),u(""),h(""),v("")}),(function(e){console.log(e)}))},cta:"Add Timebox",children:[Object(O.jsx)(Q,{value:c,onChange:o,placeholder:"Timebox Name"}),Object(O.jsx)(q,{values:T,changeFunctions:k,placeholders:["Goal One","Goal Two","Goal Three"]})]})},K=function(e){var t=e.closeModal,s=e.projectId,a=e.updateTasks,r=Object(n.useState)(""),c=Object(R.a)(r,2),o=c[0],i=c[1],l=function(){var e=Object(d.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),g("/add_task",{title:o,project_id:s}).then((function(e){var s=e.data.tasks[0];i(""),a(s),t()}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(Z,{onSubmit:l,cta:"Add Task",children:Object(O.jsx)(Q,{value:o,onChange:i,placeholder:"Task Name"})})},G=function(e){var t=e.closeModal,s=e.projectId,a=e.updateThemes,r=Object(n.useState)(""),c=Object(R.a)(r,2),o=c[0],i=c[1],l=function(){var e=Object(d.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),g("/add_theme",{title:o,project_id:s}).then((function(e){a(e.data),t()}),(function(e){console.log(e)})),i("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(Z,{onSubmit:l,cta:"Add Theme",children:Object(O.jsx)(Q,{value:o,onChange:i,placeholder:"Theme Name"})})},Z=function(e){var t=e.onSubmit,s=e.cta,a=e.children;return Object(O.jsxs)("form",{onSubmit:t,children:[Object(O.jsx)("div",{className:"row mb-3 mt-3",children:a}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-6 mx-auto text-center",children:Object(O.jsx)("input",{className:"btn btn-primary mb-1",type:"submit",value:s})})})]})},Q=function(e){var t=e.value,s=e.onChange,a=(e.children,e.placeholder);return Object(O.jsx)("div",{className:"col-10 mx-auto",children:Object(O.jsx)("input",{className:"form-control",placeholder:a,value:t,type:"text",onChange:function(e){return s(e.target.value)}})})},q=function(e){var t=e.values,s=e.changeFunctions,a=(e.children,e.placeholders),n=[a[0],a[1],a[2]],r=n[0],c=n[1],o=n[2],i=[t[0],t[1],t[2]],l=i[0],d=i[1],u=i[2],p=[s[0],s[1],s[2]],j=p[0],m=p[1],h=p[2];return Object(O.jsxs)("div",{className:"col-12 mx-auto mt-2 goals-group",children:[Object(O.jsx)("input",{className:"form-control",placeholder:r,value:l,type:"text",onChange:function(e){return j(e.target.value)}}),Object(O.jsx)("input",{className:"form-control",placeholder:c,value:d,type:"text",onChange:function(e){return m(e.target.value)}}),Object(O.jsx)("input",{className:"form-control",placeholder:o,value:u,type:"text",onChange:function(e){return h(e.target.value)}})]})},z=(s(85),function(e){return Object(O.jsx)("div",{className:"col-12 new-user-copy",children:Object(O.jsx)("p",{children:"Themes let you group similar tasks together"})})}),J=function(e){var t=String("Theme:"+e.data.id),s=M.a.div(a||(a=Object(F.a)(["\n\t\t\tborder: ",";\n\t\t\tmargin-bottom: 20px;\n\t\t\twidth: 100%\n\t\t"])),(function(e){return e.isDraggingOver?"4px solid gold":"none"}));return Object(O.jsx)(L.c,{droppableId:t,children:function(t,a){return Object(O.jsx)(s,{className:"col-12",onClick:function(){return e.filterByTheme(e.title)},ref:t.innerRef,isDraggingOver:a.isDraggingOver,children:Object(O.jsxs)("div",{className:"container card theme",style:{backgroundColor:e.data.color},children:[Object(O.jsx)("div",{className:"theme-title",children:Object(O.jsx)("span",{children:e.data.title})}),Object(O.jsx)("div",{className:"theme-delete-icon",children:Object(O.jsx)("img",{alt:"delete-icon",className:"delete-icon",onClick:function(){e.deleteTheme(e.data.id)},src:B})}),t.placeholder]})})}})},Y=function(e){return Object(O.jsx)("div",{className:"col-12",onClick:e.clearFilters,children:Object(O.jsxs)("div",{className:"container card theme border border-dark col-12",style:{backgroundColor:"pink",height:60},children:[Object(O.jsx)("h4",{className:"add-theme-title",children:"Clear Filters"}),Object(O.jsx)("h3",{children:"x"})]})})},X=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var a;return Object(u.a)(this,s),(a=t.call(this,e)).filterByTheme=function(e){a.props.filterByTheme(e),""===e?a.setState({filtering:!1}):a.setState({filtering:!0})},a.showThemes=function(){a.setState({showThemes:!a.state.showThemes})},a.showAddThemeModal=function(){a.setState({showAddThemeModalStatus:!a.state.showAddThemeModalStatus})},a.deleteTheme=function(e){a.props.deleteTheme(e)},a.clearFilters=function(){a.props.clearFilters()},a.state={themes:a.props.themes,showThemes:!1,showAddThemeModalStatus:!1},a}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return!1===this.state.showThemes?Object(O.jsx)("div",{className:"themes-container expanded col-12 mb-3",id:"themes-container",children:Object(O.jsxs)("div",{className:"component-container",children:[Object(O.jsx)("div",{className:"component-title",children:Object(O.jsx)("span",{children:"Themes"})}),Object(O.jsx)("img",{alt:"expand-icon",className:"expand-icon",onClick:function(){return e.showThemes()},src:U})]})}):Object(O.jsxs)("div",{className:"themes-container-expanded col-12 mb-3",id:"themes-container",children:[Object(O.jsxs)("div",{className:"component-container",children:[Object(O.jsx)("div",{className:"component-title",children:Object(O.jsx)("span",{children:"Themes"})}),Object(O.jsx)("img",{alt:"expand-icon",className:"retract-icon",onClick:function(){return e.showThemes()},src:U}),Object(O.jsxs)("div",{className:"themes-holder",children:[0===this.props.themes.length&&Object(O.jsx)(z,{}),this.state.themes.map((function(t){return Object(O.jsx)(J,{projectId:e.props.projectId,data:t,filterByTheme:e.filterByTheme,title:t.title,deleteTheme:e.deleteTheme},t.id)})),!0===this.props.filtering&&Object(O.jsx)(Y,{clearFilters:this.clearFilters})]}),Object(O.jsx)("div",{className:"plus-icon-container",children:Object(O.jsx)("img",{alt:"expand-icon",className:"plus-icon",onClick:function(){return e.showAddThemeModal()},src:E})})]}),!0===this.state.showAddThemeModalStatus&&Object(O.jsxs)("div",{className:"modal-container",children:[Object(O.jsx)("div",{className:"add-modal-bg",onClick:function(){return e.showAddThemeModal()}}),Object(O.jsx)("div",{className:"add-modal",children:Object(O.jsx)(G,{projectId:this.props.projectId,updateThemes:this.props.addTheme,closeModal:this.showAddThemeModal})})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.themes!==t.themes?{themes:e.themes}:null}}]),s}(r.a.Component),W=(s(87),s.p+"static/media/pencil.3ec00dfa.svg"),H=(s(88),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var a;return Object(u.a)(this,s),(a=t.call(this,e)).edit=function(){a.setState({editing:!0})},a.save=function(e){a.setState({editing:!1,themeColor:a.getThemeColor(a.state.theme)});var t={project_id:a.state.projectId,id:a.state.id,title:a.state.title,status:a.state.status,theme:a.state.theme,timeboxes:a.state.timeboxes,priority:a.state.priority};g("/edit_task",t).then((function(e){a.props.editTask(a.state.id,a.state.theme)}),(function(e){console.log(e)}))},a.getThemeColor=function(e){if("No Theme"!==e){console.log(a.props.themes);var t=a.props.themes.find((function(t){return t.title===e}));return console.log(t),t.color}},a.state={projectId:a.props.projectId,id:a.props.id,title:a.props.title,status:a.props.status,priority:a.props.priority,theme:a.props.theme,timeboxes:a.props.timeboxes,themeColor:a.props.theme_color,editing:!1},a}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{className:"card m-2",children:!1===this.state.editing?Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-6",children:this.props.status}),Object(O.jsx)("div",{className:"col-6",children:this.props.ctas}),Object(O.jsx)("div",{className:"col-2",children:Object(O.jsx)("div",{className:"theme-blob",style:{backgroundColor:this.state.themeColor}})}),Object(O.jsx)("div",{className:"card-title col-8",children:Object(O.jsx)("h6",{children:this.state.title})}),this.props.editable&&Object(O.jsx)("div",{className:"col-2",children:Object(O.jsx)("img",{alt:"edit-pencil",className:"edit-pencil",onClick:this.edit,src:W})}),!0===this.props.deleteable&&Object(O.jsx)("div",{className:"col-12",children:Object(O.jsx)("img",{alt:"delete-icon",className:"delete-icon",onClick:function(){return e.props.deleteTask(e.state.id)},src:B})})]}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-10"})}),Object(O.jsx)("div",{className:"row"})]}):Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-6",children:Object(O.jsx)("div",{className:"btn btn-primary",onClick:this.save,children:"Save"})})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col-12",children:Object(O.jsx)("form",{children:Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("textarea",{className:"form-control form-control mt-1 mb-1",type:"text",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})},placeholder:this.state.title,required:!0}),Object(O.jsxs)("select",{className:"form-select mt-1 mb-1",onChange:function(t){return e.setState({theme:t.target.value})},children:[Object(O.jsx)("option",{defaultValue:!0,children:this.state.theme}),this.props.themes.map((function(t){return t.title!==e.state.theme?Object(O.jsx)("option",{value:t.title,children:t.title}):Object(O.jsx)(O.Fragment,{})})),";"]})]})})})})]})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.themeColor!==t.themeColor?{themeColor:e.theme_color}:null}}]),s}(r.a.Component)),$=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).Status=function(e){var t=Object(O.jsx)("div",{className:"status-pill"});return t="To Do"===e.status?Object(O.jsx)("div",{className:"status-pill to-do",children:"To Do"}):"In Progress"===e.status?Object(O.jsx)("div",{className:"status-pill in-progress",children:"In Prog"}):"Done"===e.status?Object(O.jsx)("div",{className:"status-pill done",children:"Done"}):Object(O.jsx)("div",{}),Object(O.jsx)("div",{className:"status-bar",children:t})},e.CTAs=function(t){var s=Object(O.jsx)("div",{className:"btn btn-primary"});return"To Do"===t.status?s=Object(O.jsx)("div",{className:"btn btn-primary",onClick:function(){t.startTask(e.props.id)},children:"Start"}):"In Progress"===t.status?s=Object(O.jsx)("div",{className:"btn btn-primary",onClick:function(){t.completeTask(e.props.id)},children:"Complete"}):"Done"===t.status&&(s=Object(O.jsx)("div",{className:"btn btn-primary",onClick:function(){t.reopenTask(e.props.id)},children:"Reopen"})),Object(O.jsx)("div",{className:"ctas-container",children:s})},e}return Object(p.a)(s,[{key:"render",value:function(){return Object(O.jsx)(H,Object(P.a)(Object(P.a)({},this.props),{},{status:Object(O.jsx)(this.Status,{status:this.props.status}),ctas:Object(O.jsx)(this.CTAs,{status:this.props.status,startTask:this.props.startTask,completeTask:this.props.completeTask,reopenTask:this.props.reopenTask})}))}}]),s}(r.a.Component),ee=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(){return Object(u.a)(this,s),t.apply(this,arguments)}return Object(p.a)(s,[{key:"render",value:function(){return Object(O.jsx)(H,Object(P.a)(Object(P.a)({},this.props),{},{editable:!0,deleteable:!0,status:!1,deleteTask:this.props.deleteTask,theme:this.props.theme,themes:this.props.themes}))}}]),s}(r.a.Component),te=function(e){return Object(O.jsx)("div",{className:"col-12 new-user-copy",children:Object(O.jsx)("p",{children:"This is your task list. Drag and drop to reorders"})})},se=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={showAddTaskModalStatus:!1},e.showAddTaskModal=function(){e.setState({showAddTaskModalStatus:!e.state.showAddTaskModalStatus})},e}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:"backlog-container col-12",children:[Object(O.jsxs)("div",{className:"component-container",children:[Object(O.jsx)("div",{className:"component-title",children:Object(O.jsx)("span",{children:"Backlog"})}),Object(O.jsx)("div",{className:"plus-icon-container",children:Object(O.jsx)("img",{alt:"plus-icon",className:"plus-icon",onClick:function(){return e.showAddTaskModal()},src:E})}),Object(O.jsx)(L.c,{droppableId:"Backlog",children:function(t){return Object(O.jsxs)("div",{className:"row m-2",ref:t.innerRef,children:[0===e.props.tasks.length&&Object(O.jsx)(te,{}),e.props.tasks.map((function(t,s){return"Backlog"===t.timebox&&Object(O.jsx)(L.b,{draggableId:String(t.id),index:s,children:function(s){return Object(O.jsx)("div",Object(P.a)(Object(P.a)(Object(P.a)({ref:s.innerRef},s.draggableProps),s.dragHandleProps),{},{children:Object(O.jsx)(ee,Object(P.a)({projectId:e.props.projectId,themes:e.props.themes,epics:e.props.epics,allTimeboxes:e.props.allTimeboxes,deleteTask:e.props.deleteTask,editTask:e.props.editTask},t))}))}},t.id)})),t.placeholder]})}})]}),!0===this.state.showAddTaskModalStatus&&Object(O.jsxs)("div",{className:"modal-container",children:[Object(O.jsx)("div",{className:"add-modal-bg",onClick:function(){return e.showAddTaskModal()}}),Object(O.jsx)("div",{className:"add-modal",children:Object(O.jsx)(K,{projectId:this.props.projectId,updateTasks:this.props.addTask,closeModal:this.showAddTaskModal})})]})]})}}]),s}(r.a.Component),ae=se,ne=(s(89),function(e){return Object(O.jsx)("div",{className:"col-12 new-user-copy",children:Object(O.jsx)("p",{children:"Timeboxes Let you organise tasks into groups like to do today or to do before holiday"})})}),re=function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var a;return Object(u.a)(this,s),(a=t.call(this,e)).updateTaskState=function(e,t){var s=a.state.tasks,n=a.state.tasks.find((function(t){return t.id===e}));n.status=t;var r=a.state.tasks.indexOf(n);s.splice(r,1,n),console.log(s),a.setState({tasks:Object(D.a)(s)})},a.startTask=function(){var e=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{g("/update_task_status",{task_id:t,target_status:"In Progress"}),a.updateTaskState(t,"In Progress")}catch(s){console.log("Task Update Failed")}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.completeTask=function(){var e=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{g("/update_task_status",{task_id:t,target_status:"Done"}),a.updateTaskState(t,"Done")}catch(s){console.log("Task Update Failed")}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.reopenTask=function(){var e=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{g("/update_task_status",{task_id:t,target_status:"To Do"}),a.updateTaskState(t,"To Do")}catch(s){console.log("Task Update Failed")}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.deleteTimebox=function(){var e=Object(d.a)(b.a.mark((function e(t){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{s={project_id:a.props.projectId,timebox_id:t},g("/delete_timebox",s),a.props.deleteTimebox(t)}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.editMode=function(){a.setState({editing:!0})},a.save=function(e){a.props.editTimebox(e,a.state),a.setState({editing:!1});try{var t={project_id:a.props.projectId,timebox_id:e,title:a.state.title,goals:a.state.goals};g("/edit_timebox",t)}catch(s){console.log(s)}},a.closeTimebox=function(){try{var e={project_id:a.props.projectId,timebox_id:a.props.id,status:"Closed"};g("/update_timebox_status",e),a.props.updateTimeboxStatus(a.props.id,"Closed")}catch(t){console.log(t)}},a.state={tasks:a.props.tasks,title:a.props.title,goals:a.props.goals},a}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(O.jsx)(L.c,{droppableId:"Timebox:"+this.props.title,children:function(t){return Object(O.jsxs)("div",{className:"timebox card",ref:t.innerRef,children:[Object(O.jsxs)("div",{className:"card-body",children:[!0===e.state.editing?Object(O.jsx)("div",{className:"btn btn-primary btn-sm",onClick:function(){return e.save(e.props.id)},children:"save"}):Object(O.jsx)("span",{className:"edit-pencil-container",children:Object(O.jsx)("img",{alt:"edit-pencil",className:"edit-pencil",onClick:function(){return e.editMode()},src:W})}),Object(O.jsx)("span",{className:"delete-icon-container",children:Object(O.jsx)("img",{alt:"delete-icon",className:"delete-icon",onClick:function(){return e.deleteTimebox(e.props.id)},src:B})}),!0===e.state.editing?Object(O.jsx)("form",{children:Object(O.jsx)("textarea",{className:"form-control form-control mt-1 mb-1",type:"text",value:e.state.title,onChange:function(t){return e.setState({title:t.target.value})},required:!0})}):Object(O.jsx)("h4",{className:"card-title text-center",children:e.props.title}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"timebox-status col-6",children:["Status:",e.props.status]}),Object(O.jsx)("div",{className:"col-6",children:Object(O.jsx)("div",{className:"btn btn-primary",style:{float:"right"},onClick:e.closeTimebox,children:"Close Timebox"})})]}),Object(O.jsx)("div",{className:"timebox-goals mx-auto mt-2",children:!0===e.state.editing?Object(O.jsx)("form",{children:Object(O.jsxs)("div",{className:"col-12 mx-auto mt-2 goals-group",children:[Object(O.jsx)("input",{className:"form-control",value:e.state.goals[0],type:"text",onChange:function(t){return e.setState({goals:[t.target.value,e.state.goals[1],e.state.goals[2]]})}}),Object(O.jsx)("input",{className:"form-control",value:e.state.goals[1],type:"text",onChange:function(t){return e.setState({goals:[e.state.goals[0],t.target.value,e.state.goals[2]]})}}),Object(O.jsx)("input",{className:"form-control",value:e.state.goals[2],type:"text",onChange:function(t){return e.setState({goals:[e.state.goals[0],e.state.goals[1],t.target.value]})}})]})}):e.props.goals.map((function(e){return Object(O.jsx)("div",{className:"timebox-goal",children:e})}))}),Object(O.jsx)("div",{className:"timebox-tasks",children:e.state.tasks.map((function(t,s){return Object(O.jsx)(L.b,{draggableId:String(t.id),index:s,children:function(s){return Object(O.jsx)("div",Object(P.a)(Object(P.a)(Object(P.a)({ref:s.innerRef},s.draggableProps),s.dragHandleProps),{},{children:Object(O.jsx)($,Object(P.a)(Object(P.a)({},t),{},{startTask:e.startTask,completeTask:e.completeTask,reopenTask:e.reopenTask}))}))}},t.id)}))})]}),t.placeholder]})}},this.props.id)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.tasks!==t.tasks?{tasks:e.tasks}:null}}]),s}(r.a.Component),ce=(r.a.Component,function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var a;return Object(u.a)(this,s),(a=t.call(this,e)).addTask=function(e){var t=Object(P.a)({},e);a.setState((function(e){return{tasks:[t].concat(Object(D.a)(a.state.tasks)),visibleTasks:[t].concat(Object(D.a)(a.state.tasks))}}))},a.editTask=function(e,t){var s=a.state.tasks.find((function(t){return t.id===e})),n=a.state.tasks.indexOf(s),r=a.state.themes.find((function(e){return e.title===t})),c=a.state.tasks,o=a.state.visibleTasks;"No Theme"!==t&&(s.theme=r.title,s.theme_color=r.color),c.splice(n,1,s),o.splice(n,1,s),a.setState({tasks:c,visibleTasks:o})},a.addTimebox=function(e){a.setState((function(t){return{timeboxes:[].concat(Object(D.a)(a.state.timeboxes),[e])}}))},a.deleteTimebox=function(e){var t=a.state.timeboxes.filter((function(t){return t.id!==e}));a.setState({timeboxes:t})},a.editTimebox=function(e,t){console.log(t);var s=a.state.timeboxes,n=s.find((function(t){return t.id===e})),r=s.indexOf(n);n.title=t.title,n.goals=t.goals,s.splice(r,1,n),a.setState({timeboxes:s})},a.updateTimeboxStatus=function(e,t){var s=a.state.timeboxes.filter((function(t){return t.id!==e}));a.setState({timeboxes:s}),a.getTasks(a.state.projectId)},a.addTheme=function(e){a.setState((function(t){return{themes:[].concat(Object(D.a)(a.state.themes),[e])}}))},a.deleteTask=function(e){var t={task_id:e,project_id:a.state.projectId};g("/delete_task",t);var s=a.state.tasks.filter((function(t){return t.id!==e}));a.setState((function(e){return{tasks:s,visibleTasks:s}}))},a.deleteTheme=function(e){var t={theme_id:e,project_id:a.state.projectId};g("/delete_theme",t);var s=a.state.themes.filter((function(t){return t.id!==e}));a.setState((function(e){return{themes:s}}))},a.filterByTheme=function(e){var t=a.state.tasks.filter((function(t){return t.theme===e}));a.setState((function(e){return{visibleTasks:t,filtering:!0}}))},a.clearFilters=function(){a.setState({visibleTasks:a.state.tasks,filtering:!1})},a.getTasks=function(){var e=Object(d.a)(b.a.mark((function e(t){var s,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("/get_tasks","project_id=".concat(t));case 2:s=e.sent,n=s.data.timeboxes,r=s.data.themes,a.setState({tasks:s.data.tasks,visibleTasks:s.data.tasks,themes:r,timeboxes:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.checkForInProgressTimeboxes=function(e){e.forEach((function(e){"In Progress"===e.status&&a.setState({timeboxRedirect:e.id,ipTimeboxName:e.title}),a.setState({dataReceived:!0})}))},a.onDragEnd=function(){var e=Object(d.a)(b.a.mark((function e(t){var s,n,r,c,o,i,l,d,u,p,j,m,h,f,x;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.destination,n=t.source,r=t.draggableId,s){e.next=3;break}return e.abrupt("return");case 3:if(s.droppableId!==n.droppableId||s.index!==n.index){e.next=5;break}return e.abrupt("return");case 5:c=Number(r),o=a.state.tasks.find((function(e){return e.id===c})),"Theme"===s.droppableId.slice(0,5)?(i=Number(s.droppableId.slice(6,11)),l={project_id:a.state.projectId,task_id:c,theme_id:i},g("/update_task_theme",l),d=a.state.themes.find((function(e){return e.id===i})),o.theme=d.title,o.theme_color=d.color):"Timebox"===s.droppableId.slice(0,7)?(u=s.droppableId.slice(8),p={project_id:a.state.projectId,task_id:c,priority:t.destination.index,timebox:u},g("/update_task",p),o.timebox=u,(j=a.state.tasks.filter((function(e){return e!==o}))).splice(t.destination.index,0,o),a.setState({tasks:j,visibleTasks:j})):"Backlog"===s.droppableId?(m={project_id:a.state.projectId,task_id:c,priority:t.destination.index,timebox:s.droppableId},g("/update_task",m),h=a.state.tasks.filter((function(e){return e.timebox===s.droppableId})),f=a.state.tasks.filter((function(e){return e.timebox!==s.droppableId})),n.droppableId===s.droppableId?(x=a.state.tasks.filter((function(e){return e.timebox===n.droppableId})),(x=a.state.tasks.filter((function(e){return e!==o}))).splice(t.destination.index,0,o),a.setState({tasks:x,visibleTasks:x})):(o.timebox="Backlog",a.setState({tasks:[].concat(Object(D.a)(f),Object(D.a)(h)),visibleTasks:[].concat(Object(D.a)(f),Object(D.a)(h))}))):console.log("Unexpected drop destination");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={dataReceived:!1},a}return Object(p.a)(s,[{key:"componentDidMount",value:function(){var e=Object(d.a)(b.a.mark((function e(){var t,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new URLSearchParams(this.props.location.query),null!==(s=Number(t.get("projectId")))&&0!==s){e.next=6;break}this.props.history.push("/"),e.next=10;break;case 6:return this.setState({projectId:s}),e.next=9,this.getTasks(s);case 9:this.checkForInProgressTimeboxes(this.state.timeboxes);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return!0===this.state.dataReceived?Object(O.jsx)(L.a,{onDragEnd:this.onDragEnd,onDragUpdate:this.onDragUpdate,children:Object(O.jsxs)("div",{className:"board row",style:{margin:0},children:[Object(O.jsx)(X,{themes:this.state.themes,filterByTheme:this.filterByTheme,projectId:this.state.projectId,addTheme:this.addTheme,deleteTheme:this.deleteTheme,filtering:this.state.filtering,clearFilters:this.clearFilters}),Object(O.jsx)(ae,{projectId:this.state.projectId,tasks:this.state.visibleTasks,addTask:this.addTask,deleteTask:this.deleteTask,themes:this.state.themes,editTask:this.editTask})]})}):Object(O.jsx)("div",{})}}]),s}(r.a.Component)),oe=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,96)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;s(e),a(e),n(e),r(e),c(e)}))};s(90),s(91);o.a.render(Object(O.jsx)(i.a,{children:Object(O.jsxs)("div",{className:"main-container",children:[Object(O.jsx)(S,{}),Object(O.jsx)("div",{className:"content-container",children:Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{exact:!0,path:"/",component:w}),Object(O.jsx)(l.a,{path:"/login",component:I}),Object(O.jsx)(l.a,{path:"/register",component:_}),Object(O.jsx)(l.a,{path:"/board",component:ce})]})})]})}),document.getElementById("root")),oe()}},[[93,1,2]]]);
//# sourceMappingURL=main.bfb7c566.chunk.js.map